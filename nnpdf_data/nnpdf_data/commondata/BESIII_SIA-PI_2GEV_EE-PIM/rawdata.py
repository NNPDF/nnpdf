gev2 = [
    (0.20, 0.25, 2.0, 3.062, 0.014, 0.081),
    (0.25, 0.30, 2.0, 3.230, 0.014, 0.106),
    (0.30, 0.35, 2.0, 3.077, 0.013, 0.118),
    (0.35, 0.40, 2.0, 2.708, 0.012, 0.099),
    (0.40, 0.45, 2.0, 2.267, 0.011, 0.071),
    (0.45, 0.50, 2.0, 1.847, 0.010, 0.032),
    (0.50, 0.55, 2.0, 1.519, 0.009, 0.016),
    (0.55, 0.60, 2.0, 1.244, 0.008, 0.067),
    (0.60, 0.65, 2.0, 0.932, 0.007, 0.101),
    (0.65, 0.70, 2.0, 0.791, 0.007, 0.072),
    (0.70, 0.75, 2.0, 0.610, 0.006, 0.052),
    (0.75, 0.80, 2.0, 0.403, 0.005, 0.036),
    (0.80, 0.85, 2.0, 0.257, 0.005, 0.010),
    (0.85, 0.90, 2.0, 0.160, 0.004, 0.025),
    (0.90, 0.95, 2.0, 0.058, 0.003, 0.018),
]

gev2p2 = [
    (0.20, 0.25, 2.2, 3.329, 0.013, 0.063),
    (0.25, 0.30, 2.2, 3.509, 0.013, 0.096),
    (0.30, 0.35, 2.2, 3.255, 0.012, 0.105),
    (0.35, 0.40, 2.2, 2.828, 0.011, 0.091),
    (0.40, 0.45, 2.2, 2.387, 0.010, 0.086),
    (0.45, 0.50, 2.2, 1.941, 0.009, 0.051),
    (0.50, 0.55, 2.2, 1.544, 0.008, 0.038),
    (0.55, 0.60, 2.2, 1.237, 0.008, 0.025),
    (0.60, 0.65, 2.2, 0.964, 0.007, 0.011),
    (0.65, 0.70, 2.2, 0.822, 0.006, 0.007),
    (0.70, 0.75, 2.2, 0.670, 0.006, 0.038),
    (0.75, 0.80, 2.2, 0.534, 0.005, 0.043),
    (0.80, 0.85, 2.2, 0.414, 0.005, 0.034),
    (0.85, 0.90, 2.2, 0.272, 0.004, 0.030),
    (0.90, 0.95, 2.2, 0.150, 0.003, 0.007),
    (0.95, 1.00, 2.2, 0.084, 0.003, 0.015),
    (1.00, 1.05, 2.2, 0.027, 0.002, 0.011),
]

gev2p396 = [
    (0.20, 0.25, 2.396, 3.280, 0.006, 0.083),
    (0.25, 0.30, 2.396, 3.467, 0.006, 0.092),
    (0.30, 0.35, 2.396, 3.325, 0.006, 0.072),
    (0.35, 0.40, 2.396, 2.979, 0.006, 0.043),
    (0.40, 0.45, 2.396, 2.513, 0.005, 0.011),
    (0.45, 0.50, 2.396, 2.067, 0.005, 0.009),
    (0.50, 0.55, 2.396, 1.678, 0.004, 0.008),
    (0.55, 0.60, 2.396, 1.355, 0.004, 0.012),
    (0.60, 0.65, 2.396, 1.082, 0.004, 0.015),
    (0.65, 0.70, 2.396, 0.835, 0.003, 0.028),
    (0.70, 0.75, 2.396, 0.652, 0.003, 0.026),
    (0.75, 0.80, 2.396, 0.536, 0.003, 0.031),
    (0.80, 0.85, 2.396, 0.470, 0.002, 0.039),
    (0.85, 0.90, 2.396, 0.376, 0.002, 0.042),
    (0.90, 0.95, 2.396, 0.285, 0.002, 0.034),
    (0.95, 1.00, 2.396, 0.183, 0.002, 0.027),
    (1.00, 1.05, 2.396, 0.087, 0.001, 0.010),
    (1.05, 1.10, 2.396, 0.046, 0.001, 0.006),
    (1.10, 1.15, 2.396, 0.013, 0.001, 0.005),
]

gev2p6444 = [
    (0.20, 0.25, 2.6444, 3.450, 0.010, 0.146),
    (0.25, 0.30, 2.6444, 3.586, 0.010, 0.115),
    (0.30, 0.35, 2.6444, 3.401, 0.010, 0.109),
    (0.35, 0.40, 2.6444, 3.019, 0.009, 0.062),
    (0.40, 0.45, 2.6444, 2.595, 0.008, 0.027),
    (0.45, 0.50, 2.6444, 2.172, 0.007, 0.030),
    (0.50, 0.55, 2.6444, 1.795, 0.007, 0.042),
    (0.55, 0.60, 2.6444, 1.461, 0.006, 0.054),
    (0.60, 0.65, 2.6444, 1.190, 0.006, 0.039),
    (0.65, 0.70, 2.6444, 0.919, 0.005, 0.041),
    (0.70, 0.75, 2.6444, 0.732, 0.005, 0.035),
    (0.75, 0.80, 2.6444, 0.583, 0.004, 0.038),
    (0.80, 0.85, 2.6444, 0.455, 0.004, 0.045),
    (0.85, 0.90, 2.6444, 0.379, 0.003, 0.041),
    (0.90, 0.95, 2.6444, 0.305, 0.003, 0.038),
    (0.95, 1.00, 2.6444, 0.284, 0.003, 0.040),
    (1.00, 1.05, 2.6444, 0.226, 0.003, 0.036),
    (1.05, 1.10, 2.6444, 0.159, 0.003, 0.031),
    (1.10, 1.15, 2.6444, 0.095, 0.002, 0.019),
    (1.15, 1.20, 2.6444, 0.039, 0.002, 0.005),
    (1.20, 1.25, 2.6444, 0.013, 0.002, 0.003),
]

gev2p9 = [
    (0.20, 0.25, 2.9, 3.530, 0.006, 0.194),
    (0.25, 0.30, 2.9, 3.668, 0.006, 0.185),
    (0.30, 0.35, 2.9, 3.507, 0.006, 0.146),
    (0.35, 0.40, 2.9, 3.144, 0.006, 0.082),
    (0.40, 0.45, 2.9, 2.708, 0.005, 0.024),
    (0.45, 0.50, 2.9, 2.304, 0.005, 0.017),
    (0.50, 0.55, 2.9, 1.899, 0.004, 0.035),
    (0.55, 0.60, 2.9, 1.556, 0.004, 0.049),
    (0.60, 0.65, 2.9, 1.258, 0.004, 0.053),
    (0.65, 0.70, 2.9, 1.013, 0.003, 0.056),
    (0.70, 0.75, 2.9, 0.828, 0.003, 0.059),
    (0.75, 0.80, 2.9, 0.671, 0.003, 0.055),
    (0.80, 0.85, 2.9, 0.541, 0.003, 0.050),
    (0.85, 0.90, 2.9, 0.431, 0.002, 0.047),
    (0.90, 0.95, 2.9, 0.344, 0.002, 0.041),
    (0.95, 1.00, 2.9, 0.277, 0.002, 0.042),
    (1.00, 1.05, 2.9, 0.224, 0.002, 0.037),
    (1.05, 1.10, 2.9, 0.184, 0.002, 0.032),
    (1.10, 1.15, 2.9, 0.167, 0.002, 0.028),
    (1.15, 1.20, 2.9, 0.132, 0.002, 0.029),
    (1.20, 1.25, 2.9, 0.088, 0.001, 0.022),
    (1.25, 1.30, 2.9, 0.047, 0.001, 0.012),
    (1.30, 1.35, 2.9, 0.017, 0.001, 0.002),
]

gev3p05 = [
    (0.20, 0.25, 3.05, 3.542, 0.018, 0.460),
    (0.25, 0.30, 3.05, 3.678, 0.018, 0.450),
    (0.30, 0.35, 3.05, 3.498, 0.017, 0.425),
    (0.35, 0.40, 3.05, 3.174, 0.016, 0.354),
    (0.40, 0.45, 3.05, 2.766, 0.015, 0.297),
    (0.45, 0.50, 3.05, 2.349, 0.013, 0.261),
    (0.50, 0.55, 3.05, 1.946, 0.012, 0.199),
    (0.55, 0.60, 3.05, 1.601, 0.011, 0.158),
    (0.60, 0.65, 3.05, 1.316, 0.010, 0.126),
    (0.65, 0.70, 3.05, 1.064, 0.009, 0.119),
    (0.70, 0.75, 3.05, 0.864, 0.008, 0.104),
    (0.75, 0.80, 3.05, 0.710, 0.008, 0.097),
    (0.80, 0.85, 3.05, 0.567, 0.007, 0.088),
    (0.85, 0.90, 3.05, 0.480, 0.007, 0.073),
    (0.90, 0.95, 3.05, 0.384, 0.006, 0.064),
    (0.95, 1.00, 3.05, 0.313, 0.006, 0.054),
    (1.00, 1.05, 3.05, 0.244, 0.005, 0.053),
    (1.05, 1.10, 3.05, 0.205, 0.005, 0.044),
    (1.10, 1.15, 3.05, 0.169, 0.005, 0.040),
    (1.15, 1.20, 3.05, 0.136, 0.004, 0.032),
    (1.20, 1.25, 3.05, 0.126, 0.004, 0.029),
    (1.25, 1.30, 3.05, 0.093, 0.004, 0.026),
    (1.30, 1.35, 3.05, 0.058, 0.003, 0.017),
    (1.35, 1.40, 3.05, 0.030, 0.003, 0.011),
]

gev3p5 = [
    (0.20, 0.25, 3.5, 3.666, 0.040, 0.343),
    (0.25, 0.30, 3.5, 3.824, 0.039, 0.341),
    (0.30, 0.35, 3.5, 3.752, 0.038, 0.283),
    (0.35, 0.40, 3.5, 3.375, 0.036, 0.210),
    (0.40, 0.45, 3.5, 2.860, 0.032, 0.106),
    (0.45, 0.50, 3.5, 2.511, 0.030, 0.040),
    (0.50, 0.55, 3.5, 2.042, 0.027, 0.019),
    (0.55, 0.60, 3.5, 1.688, 0.024, 0.053),
    (0.60, 0.65, 3.5, 1.371, 0.022, 0.086),
    (0.65, 0.70, 3.5, 1.130, 0.020, 0.095),
    (0.70, 0.75, 3.5, 0.879, 0.017, 0.095),
    (0.75, 0.80, 3.5, 0.762, 0.017, 0.096),
    (0.80, 0.85, 3.5, 0.598, 0.015, 0.087),
    (0.85, 0.90, 3.5, 0.498, 0.014, 0.078),
    (0.90, 0.95, 3.5, 0.418, 0.013, 0.067),
    (0.95, 1.00, 3.5, 0.343, 0.012, 0.060),
    (1.00, 1.05, 3.5, 0.270, 0.012, 0.046),
    (1.05, 1.10, 3.5, 0.247, 0.012, 0.044),
    (1.10, 1.15, 3.5, 0.207, 0.011, 0.032),
    (1.15, 1.20, 3.5, 0.182, 0.010, 0.028),
    (1.20, 1.25, 3.5, 0.143, 0.009, 0.023),
    (1.25, 1.30, 3.5, 0.111, 0.008, 0.019),
    (1.30, 1.35, 3.5, 0.113, 0.009, 0.025),
    (1.35, 1.40, 3.5, 0.082, 0.008, 0.018),
    (1.40, 1.45, 3.5, 0.046, 0.006, 0.009),
]

gev3p671 = [
    (0.20, 0.25, 3.671, 3.804, 0.038, 0.294),
    (0.25, 0.30, 3.671, 4.033, 0.039, 0.292),
    (0.30, 0.35, 3.671, 3.809, 0.037, 0.221),
    (0.35, 0.40, 3.671, 3.483, 0.035, 0.158),
    (0.40, 0.45, 3.671, 2.932, 0.032, 0.076),
    (0.45, 0.50, 3.671, 2.478, 0.029, 0.026),
    (0.50, 0.55, 3.671, 2.080, 0.026, 0.032),
    (0.55, 0.60, 3.671, 1.740, 0.024, 0.055),
    (0.60, 0.65, 3.671, 1.363, 0.021, 0.064),
    (0.65, 0.70, 3.671, 1.129, 0.020, 0.073),
    (0.70, 0.75, 3.671, 0.927, 0.018, 0.078),
    (0.75, 0.80, 3.671, 0.760, 0.017, 0.075),
    (0.80, 0.85, 3.671, 0.636, 0.016, 0.074),
    (0.85, 0.90, 3.671, 0.543, 0.015, 0.075),
    (0.90, 0.95, 3.671, 0.424, 0.013, 0.066),
    (0.95, 1.00, 3.671, 0.374, 0.013, 0.062),
    (1.00, 1.05, 3.671, 0.311, 0.012, 0.058),
    (1.05, 1.10, 3.671, 0.255, 0.012, 0.049),
    (1.10, 1.15, 3.671, 0.210, 0.011, 0.040),
    (1.15, 1.20, 3.671, 0.186, 0.010, 0.038),
    (1.20, 1.25, 3.671, 0.174, 0.010, 0.038),
    (1.25, 1.30, 3.671, 0.135, 0.009, 0.028),
    (1.30, 1.35, 3.671, 0.120, 0.008, 0.026),
    (1.35, 1.40, 3.671, 0.093, 0.008, 0.024),
    (1.40, 1.45, 3.671, 0.074, 0.007, 0.024),
]

import yaml

from nnpdf_data.filter_utils.utils import prettify_float

yaml.add_representer(float, prettify_float)


class magic:
    def __init__(self, dataset):
        self.data_central = []
        self.kin = []
        self.error = []
        for tpl in dataset:
            kin_min, kin_max, q, value, stat, sys = tpl
            kin_value = {'ph': {'min': kin_min, 'mid': None, 'max': kin_max}}
            data_central_value = value
            error_value = {'stat': stat, 'sys': sys}
            self.data_central.append(data_central_value)
            self.kin.append(kin_value)
            self.error.append(error_value)

        self.error_definition = {
            'stat': {'definition': 'statistical uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
            'sys': {'definition': 'systematic uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
        }

        self.data_central_yaml = {'data_central': self.data_central}
        self.kin_yaml = {'bins': self.kin}
        self.uncertainties_yaml = {'definitions': self.error_definition, 'bins': self.error}

    def __call__(self):
        with open('data.yaml', 'w') as f:
            yaml.dump(self.data_central_yaml, f, sort_keys=False)
        with open('kinematics.yaml', 'w') as f:
            yaml.dump(self.kin_yaml, f, sort_keys=False)
        with open('uncertainties.yaml', 'w') as f:
            yaml.dump(self.uncertainties_yaml, f, sort_keys=False)


dat_2 = magic(gev2)
dat_2p2 = magic(gev2p2)
dat_2p396 = magic(gev2p396)
dat_2p6444 = magic(gev2p6444)
dat_2p9 = magic(gev2p9)
dat_3p05 = magic(gev3p05)
dat_3p5 = magic(gev3p5)
dat_3p671 = magic(gev3p671)
