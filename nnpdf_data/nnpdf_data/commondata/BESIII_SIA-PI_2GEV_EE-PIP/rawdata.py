gev2 = [
    (0.20, 0.25, 2.0, 3.038, 0.014, 0.078),
    (0.25, 0.30, 2.0, 3.240, 0.014, 0.122),
    (0.30, 0.35, 2.0, 3.084, 0.013, 0.132),
    (0.35, 0.40, 2.0, 2.713, 0.012, 0.123),
    (0.40, 0.45, 2.0, 2.286, 0.011, 0.076),
    (0.45, 0.50, 2.0, 1.862, 0.010, 0.037),
    (0.50, 0.55, 2.0, 1.530, 0.009, 0.008),
    (0.55, 0.60, 2.0, 1.238, 0.008, 0.056),
    (0.60, 0.65, 2.0, 0.955, 0.008, 0.097),
    (0.65, 0.70, 2.0, 0.767, 0.007, 0.069),
    (0.70, 0.75, 2.0, 0.601, 0.006, 0.049),
    (0.75, 0.80, 2.0, 0.396, 0.005, 0.034),
    (0.80, 0.85, 2.0, 0.260, 0.005, 0.017),
    (0.85, 0.90, 2.0, 0.157, 0.004, 0.025),
    (0.90, 0.95, 2.0, 0.057, 0.003, 0.017),
]

gev2p2 = [
    (0.20, 0.25, 2.2, 3.343, 0.013, 0.061),
    (0.25, 0.30, 2.2, 3.482, 0.013, 0.096),
    (0.30, 0.35, 2.2, 3.244, 0.012, 0.124),
    (0.35, 0.40, 2.2, 2.824, 0.011, 0.108),
    (0.40, 0.45, 2.2, 2.384, 0.010, 0.091),
    (0.45, 0.50, 2.2, 1.950, 0.009, 0.054),
    (0.50, 0.55, 2.2, 1.555, 0.008, 0.034),
    (0.55, 0.60, 2.2, 1.242, 0.008, 0.031),
    (0.60, 0.65, 2.2, 0.986, 0.007, 0.045),
    (0.65, 0.70, 2.2, 0.836, 0.006, 0.020),
    (0.70, 0.75, 2.2, 0.669, 0.006, 0.033),
    (0.75, 0.80, 2.2, 0.533, 0.005, 0.037),
    (0.80, 0.85, 2.2, 0.415, 0.005, 0.035),
    (0.85, 0.90, 2.2, 0.265, 0.004, 0.025),
    (0.90, 0.95, 2.2, 0.147, 0.003, 0.006),
    (0.95, 1.00, 2.2, 0.089, 0.003, 0.017),
    (1.00, 1.05, 2.2, 0.031, 0.003, 0.013),
]

gev2p396 = [
    (0.20, 0.25, 2.396, 3.287, 0.006, 0.082),
    (0.25, 0.30, 2.396, 3.471, 0.006, 0.092),
    (0.30, 0.35, 2.396, 3.306, 0.006, 0.080),
    (0.35, 0.40, 2.396, 2.972, 0.006, 0.049),
    (0.40, 0.45, 2.396, 2.532, 0.005, 0.023),
    (0.45, 0.50, 2.396, 2.082, 0.005, 0.020),
    (0.50, 0.55, 2.396, 1.674, 0.004, 0.005),
    (0.55, 0.60, 2.396, 1.369, 0.004, 0.007),
    (0.60, 0.65, 2.396, 1.086, 0.004, 0.012),
    (0.65, 0.70, 2.396, 0.847, 0.003, 0.018),
    (0.70, 0.75, 2.396, 0.664, 0.003, 0.022),
    (0.75, 0.80, 2.396, 0.539, 0.003, 0.024),
    (0.80, 0.85, 2.396, 0.472, 0.002, 0.034),
    (0.85, 0.90, 2.396, 0.376, 0.002, 0.041),
    (0.90, 0.95, 2.396, 0.284, 0.002, 0.032),
    (0.95, 1.00, 2.396, 0.182, 0.002, 0.025),
    (1.00, 1.05, 2.396, 0.087, 0.001, 0.010),
    (1.05, 1.10, 2.396, 0.045, 0.001, 0.005),
    (1.10, 1.15, 2.396, 0.015, 0.001, 0.006),
]

gev2p6444 = [
    (0.20, 0.25, 2.6444, 3.397, 0.010, 0.128),
    (0.25, 0.30, 2.6444, 3.567, 0.010, 0.119),
    (0.30, 0.35, 2.6444, 3.367, 0.010, 0.097),
    (0.35, 0.40, 2.6444, 3.021, 0.009, 0.065),
    (0.40, 0.45, 2.6444, 2.586, 0.008, 0.018),
    (0.45, 0.50, 2.6444, 2.178, 0.008, 0.019),
    (0.50, 0.55, 2.6444, 1.816, 0.007, 0.024),
    (0.55, 0.60, 2.6444, 1.467, 0.006, 0.033),
    (0.60, 0.65, 2.6444, 1.190, 0.006, 0.034),
    (0.65, 0.70, 2.6444, 0.924, 0.005, 0.038),
    (0.70, 0.75, 2.6444, 0.732, 0.005, 0.033),
    (0.75, 0.80, 2.6444, 0.585, 0.004, 0.039),
    (0.80, 0.85, 2.6444, 0.466, 0.004, 0.042),
    (0.85, 0.90, 2.6444, 0.366, 0.003, 0.039),
    (0.90, 0.95, 2.6444, 0.310, 0.003, 0.035),
    (0.95, 1.00, 2.6444, 0.282, 0.003, 0.035),
    (1.00, 1.05, 2.6444, 0.225, 0.003, 0.039),
    (1.05, 1.10, 2.6444, 0.154, 0.003, 0.026),
    (1.10, 1.15, 2.6444, 0.089, 0.002, 0.016),
    (1.15, 1.20, 2.6444, 0.039, 0.002, 0.005),
    (1.20, 1.25, 2.6444, 0.017, 0.002, 0.003),
]

gev2p9 = [
    (0.20, 0.25, 2.9, 3.470, 0.006, 0.187),
    (0.25, 0.30, 2.9, 3.633, 0.006, 0.185),
    (0.30, 0.35, 2.9, 3.455, 0.006, 0.139),
    (0.35, 0.40, 2.9, 3.128, 0.006, 0.084),
    (0.40, 0.45, 2.9, 2.712, 0.005, 0.031),
    (0.45, 0.50, 2.9, 2.299, 0.005, 0.011),
    (0.50, 0.55, 2.9, 1.906, 0.004, 0.033),
    (0.55, 0.60, 2.9, 1.545, 0.004, 0.045),
    (0.60, 0.65, 2.9, 1.266, 0.004, 0.051),
    (0.65, 0.70, 2.9, 1.014, 0.003, 0.056),
    (0.70, 0.75, 2.9, 0.828, 0.003, 0.056),
    (0.75, 0.80, 2.9, 0.675, 0.003, 0.054),
    (0.80, 0.85, 2.9, 0.551, 0.003, 0.045),
    (0.85, 0.90, 2.9, 0.439, 0.002, 0.044),
    (0.90, 0.95, 2.9, 0.347, 0.002, 0.044),
    (0.95, 1.00, 2.9, 0.279, 0.002, 0.042),
    (1.00, 1.05, 2.9, 0.226, 0.002, 0.036),
    (1.05, 1.10, 2.9, 0.182, 0.002, 0.031),
    (1.10, 1.15, 2.9, 0.165, 0.002, 0.028),
    (1.15, 1.20, 2.9, 0.133, 0.002, 0.026),
    (1.20, 1.25, 2.9, 0.089, 0.001, 0.020),
    (1.25, 1.30, 2.9, 0.043, 0.001, 0.012),
    (1.30, 1.35, 2.9, 0.018, 0.001, 0.002),
]

gev3p05 = [
    (0.20, 0.25, 3.05, 3.518, 0.018, 0.458),
    (0.25, 0.30, 3.05, 3.662, 0.018, 0.459),
    (0.30, 0.35, 3.05, 3.500, 0.017, 0.410),
    (0.35, 0.40, 3.05, 3.157, 0.016, 0.338),
    (0.40, 0.45, 3.05, 2.769, 0.015, 0.295),
    (0.45, 0.50, 3.05, 2.324, 0.013, 0.260),
    (0.50, 0.55, 3.05, 1.948, 0.012, 0.209),
    (0.55, 0.60, 3.05, 1.621, 0.011, 0.164),
    (0.60, 0.65, 3.05, 1.319, 0.010, 0.144),
    (0.65, 0.70, 3.05, 1.047, 0.009, 0.120),
    (0.70, 0.75, 3.05, 0.862, 0.008, 0.103),
    (0.75, 0.80, 3.05, 0.706, 0.008, 0.095),
    (0.80, 0.85, 3.05, 0.563, 0.007, 0.079),
    (0.85, 0.90, 3.05, 0.470, 0.007, 0.068),
    (0.90, 0.95, 3.05, 0.379, 0.006, 0.061),
    (0.95, 1.00, 3.05, 0.316, 0.006, 0.056),
    (1.00, 1.05, 3.05, 0.247, 0.005, 0.053),
    (1.05, 1.10, 3.05, 0.186, 0.005, 0.040),
    (1.10, 1.15, 3.05, 0.160, 0.005, 0.040),
    (1.15, 1.20, 3.05, 0.130, 0.004, 0.029),
    (1.20, 1.25, 3.05, 0.120, 0.004, 0.027),
    (1.25, 1.30, 3.05, 0.092, 0.004, 0.027),
    (1.30, 1.35, 3.05, 0.060, 0.003, 0.021),
    (1.35, 1.40, 3.05, 0.027, 0.002, 0.010),
]

gev3p5 = [
    (0.20, 0.25, 3.5, 3.680, 0.040, 0.352),
    (0.25, 0.30, 3.5, 3.862, 0.040, 0.340),
    (0.30, 0.35, 3.5, 3.606, 0.038, 0.273),
    (0.35, 0.40, 3.5, 3.319, 0.036, 0.203),
    (0.40, 0.45, 3.5, 2.803, 0.032, 0.117),
    (0.45, 0.50, 3.5, 2.487, 0.030, 0.045),
    (0.50, 0.55, 3.5, 2.014, 0.026, 0.022),
    (0.55, 0.60, 3.5, 1.691, 0.024, 0.062),
    (0.60, 0.65, 3.5, 1.363, 0.022, 0.077),
    (0.65, 0.70, 3.5, 1.131, 0.020, 0.092),
    (0.70, 0.75, 3.5, 0.917, 0.018, 0.097),
    (0.75, 0.80, 3.5, 0.759, 0.016, 0.100),
    (0.80, 0.85, 3.5, 0.599, 0.015, 0.087),
    (0.85, 0.90, 3.5, 0.497, 0.014, 0.081),
    (0.90, 0.95, 3.5, 0.406, 0.013, 0.068),
    (0.95, 1.00, 3.5, 0.328, 0.012, 0.060),
    (1.00, 1.05, 3.5, 0.296, 0.012, 0.053),
    (1.05, 1.10, 3.5, 0.265, 0.012, 0.046),
    (1.10, 1.15, 3.5, 0.205, 0.011, 0.035),
    (1.15, 1.20, 3.5, 0.183, 0.010, 0.030),
    (1.20, 1.25, 3.5, 0.147, 0.009, 0.028),
    (1.25, 1.30, 3.5, 0.131, 0.009, 0.024),
    (1.30, 1.35, 3.5, 0.113, 0.009, 0.024),
    (1.35, 1.40, 3.5, 0.076, 0.007, 0.016),
    (1.40, 1.45, 3.5, 0.069, 0.007, 0.015),
]

gev3p671 = [
    (0.20, 0.25, 3.671, 3.792, 0.038, 0.297),
    (0.25, 0.30, 3.671, 3.966, 0.038, 0.282),
    (0.30, 0.35, 3.671, 3.763, 0.037, 0.231),
    (0.35, 0.40, 3.671, 3.376, 0.034, 0.158),
    (0.40, 0.45, 3.671, 2.954, 0.032, 0.083),
    (0.45, 0.50, 3.671, 2.500, 0.029, 0.033),
    (0.50, 0.55, 3.671, 2.055, 0.026, 0.028),
    (0.55, 0.60, 3.671, 1.728, 0.024, 0.055),
    (0.60, 0.65, 3.671, 1.403, 0.022, 0.066),
    (0.65, 0.70, 3.671, 1.147, 0.020, 0.074),
    (0.70, 0.75, 3.671, 0.915, 0.018, 0.078),
    (0.75, 0.80, 3.671, 0.790, 0.017, 0.082),
    (0.80, 0.85, 3.671, 0.637, 0.016, 0.076),
    (0.85, 0.90, 3.671, 0.545, 0.015, 0.084),
    (0.90, 0.95, 3.671, 0.442, 0.013, 0.070),
    (0.95, 1.00, 3.671, 0.379, 0.013, 0.066),
    (1.00, 1.05, 3.671, 0.295, 0.012, 0.056),
    (1.05, 1.10, 3.671, 0.257, 0.011, 0.051),
    (1.10, 1.15, 3.671, 0.204, 0.011, 0.043),
    (1.15, 1.20, 3.671, 0.181, 0.010, 0.037),
    (1.20, 1.25, 3.671, 0.157, 0.009, 0.033),
    (1.25, 1.30, 3.671, 0.130, 0.009, 0.028),
    (1.30, 1.35, 3.671, 0.122, 0.008, 0.029),
    (1.35, 1.40, 3.671, 0.097, 0.008, 0.025),
    (1.40, 1.45, 3.671, 0.072, 0.007, 0.023),
]

import yaml

from nnpdf_data.filter_utils.utils import prettify_float

yaml.add_representer(float, prettify_float)


class magic:
    def __init__(self, dataset):
        self.data_central = []
        self.kin = []
        self.error = []
        for tpl in dataset:
            kin_min, kin_max, q, value, stat, sys = tpl
            kin_value = {'ph': {'min': kin_min, 'mid': None, 'max': kin_max}}
            data_central_value = value
            error_value = {'stat': stat, 'sys': sys}
            self.data_central.append(data_central_value)
            self.kin.append(kin_value)
            self.error.append(error_value)

        self.error_definition = {
            'stat': {'definition': 'statistical uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
            'sys': {'definition': 'systematic uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
        }

        self.data_central_yaml = {'data_central': self.data_central}
        self.kin_yaml = {'bins': self.kin}
        self.uncertainties_yaml = {'definitions': self.error_definition, 'bins': self.error}

    def __call__(self):
        with open('data.yaml', 'w') as f:
            yaml.dump(self.data_central_yaml, f, sort_keys=False)
        with open('kinematics.yaml', 'w') as f:
            yaml.dump(self.kin_yaml, f, sort_keys=False)
        with open('uncertainties.yaml', 'w') as f:
            yaml.dump(self.uncertainties_yaml, f, sort_keys=False)


dat_2 = magic(gev2)
dat_2p2 = magic(gev2p2)
dat_2p396 = magic(gev2p396)
dat_2p6444 = magic(gev2p6444)
dat_2p9 = magic(gev2p9)
dat_3p05 = magic(gev3p05)
dat_3p5 = magic(gev3p5)
dat_3p671 = magic(gev3p671)
