gev2 = [
    (0.20, 0.25, 2.0, 0.394, 0.006, 0.033),
    (0.25, 0.30, 2.0, 0.455, 0.006, 0.023),
    (0.30, 0.35, 2.0, 0.481, 0.006, 0.023),
    (0.35, 0.40, 2.0, 0.478, 0.006, 0.023),
    (0.40, 0.45, 2.0, 0.453, 0.006, 0.025),
    (0.45, 0.50, 2.0, 0.354, 0.005, 0.013),
    (0.50, 0.55, 2.0, 0.266, 0.005, 0.009),
    (0.55, 0.60, 2.0, 0.188, 0.004, 0.005),
    (0.60, 0.65, 2.0, 0.112, 0.004, 0.023),
    (0.65, 0.70, 2.0, 0.079, 0.004, 0.015),
    (0.70, 0.75, 2.0, 0.045, 0.005, 0.010),
    (0.75, 0.80, 2.0, 0.011, 0.005, 0.004),
]

gev2p2 = [
    (0.20, 0.25, 2.2, 0.298, 0.005, 0.034),
    (0.25, 0.30, 2.2, 0.332, 0.005, 0.021),
    (0.30, 0.35, 2.2, 0.340, 0.005, 0.013),
    (0.35, 0.40, 2.2, 0.329, 0.005, 0.018),
    (0.40, 0.45, 2.2, 0.323, 0.004, 0.009),
    (0.45, 0.50, 2.2, 0.341, 0.005, 0.006),
    (0.50, 0.55, 2.2, 0.320, 0.004, 0.007),
    (0.55, 0.60, 2.2, 0.267, 0.004, 0.005),
    (0.60, 0.65, 2.2, 0.216, 0.004, 0.011),
    (0.65, 0.70, 2.2, 0.137, 0.003, 0.012),
    (0.70, 0.75, 2.2, 0.092, 0.003, 0.007),
    (0.75, 0.80, 2.2, 0.044, 0.003, 0.003),
    (0.80, 0.85, 2.2, 0.037, 0.004, 0.009),
    (0.85, 0.90, 2.2, 0.013, 0.004, 0.003),
]

gev2p396 = [
    (0.20, 0.25, 2.396, 0.298, 0.002, 0.035),
    (0.25, 0.30, 2.396, 0.329, 0.002, 0.018),
    (0.30, 0.35, 2.396, 0.349, 0.002, 0.011),
    (0.35, 0.40, 2.396, 0.341, 0.002, 0.008),
    (0.40, 0.45, 2.396, 0.319, 0.002, 0.008),
    (0.45, 0.50, 2.396, 0.287, 0.002, 0.009),
    (0.50, 0.55, 2.396, 0.260, 0.002, 0.007),
    (0.55, 0.60, 2.396, 0.239, 0.002, 0.013),
    (0.60, 0.65, 2.396, 0.245, 0.002, 0.004),
    (0.65, 0.70, 2.396, 0.246, 0.002, 0.004),
    (0.70, 0.75, 2.396, 0.206, 0.002, 0.005),
    (0.75, 0.80, 2.396, 0.173, 0.002, 0.004),
    (0.80, 0.85, 2.396, 0.091, 0.002, 0.004),
    (0.85, 0.90, 2.396, 0.050, 0.002, 0.002),
    (0.90, 0.95, 2.396, 0.019, 0.002, 0.002),
    (0.95, 1.00, 2.396, 0.016, 0.002, 0.003),
    (1.00, 1.05, 2.396, 0.005, 0.002, 0.002),
]

gev2p6444 = [
    (0.20, 0.25, 2.6444, 0.297, 0.004, 0.040),
    (0.25, 0.30, 2.6444, 0.336, 0.004, 0.021),
    (0.30, 0.35, 2.6444, 0.364, 0.004, 0.012),
    (0.35, 0.40, 2.6444, 0.356, 0.003, 0.012),
    (0.40, 0.45, 2.6444, 0.354, 0.003, 0.014),
    (0.45, 0.50, 2.6444, 0.332, 0.003, 0.022),
    (0.50, 0.55, 2.6444, 0.302, 0.003, 0.024),
    (0.55, 0.60, 2.6444, 0.269, 0.003, 0.020),
    (0.60, 0.65, 2.6444, 0.225, 0.003, 0.019),
    (0.65, 0.70, 2.6444, 0.192, 0.003, 0.016),
    (0.70, 0.75, 2.6444, 0.164, 0.003, 0.014),
    (0.75, 0.80, 2.6444, 0.154, 0.003, 0.013),
    (0.80, 0.85, 2.6444, 0.151, 0.003, 0.012),
    (0.85, 0.90, 2.6444, 0.140, 0.003, 0.006),
    (0.90, 0.95, 2.6444, 0.124, 0.003, 0.006),
    (0.95, 1.00, 2.6444, 0.080, 0.003, 0.007),
    (1.00, 1.05, 2.6444, 0.035, 0.003, 0.002),
    (1.05, 1.10, 2.6444, 0.011, 0.002, 0.002),
]

gev2p9 = [
    (0.20, 0.25, 2.9, 0.285, 0.002, 0.041),
    (0.25, 0.30, 2.9, 0.319, 0.002, 0.020),
    (0.30, 0.35, 2.9, 0.340, 0.002, 0.012),
    (0.35, 0.40, 2.9, 0.346, 0.002, 0.016),
    (0.40, 0.45, 2.9, 0.338, 0.002, 0.025),
    (0.45, 0.50, 2.9, 0.327, 0.002, 0.026),
    (0.50, 0.55, 2.9, 0.309, 0.002, 0.028),
    (0.55, 0.60, 2.9, 0.284, 0.002, 0.024),
    (0.60, 0.65, 2.9, 0.255, 0.002, 0.018),
    (0.65, 0.70, 2.9, 0.232, 0.002, 0.016),
    (0.70, 0.75, 2.9, 0.202, 0.002, 0.017),
    (0.75, 0.80, 2.9, 0.169, 0.002, 0.016),
    (0.80, 0.85, 2.9, 0.140, 0.002, 0.012),
    (0.85, 0.90, 2.9, 0.114, 0.002, 0.009),
    (0.90, 0.95, 2.9, 0.096, 0.002, 0.009),
    (0.95, 1.00, 2.9, 0.090, 0.002, 0.007),
    (1.00, 1.05, 2.9, 0.100, 0.002, 0.006),
    (1.05, 1.10, 2.9, 0.091, 0.002, 0.004),
    (1.10, 1.15, 2.9, 0.069, 0.002, 0.004),
    (1.15, 1.20, 2.9, 0.031, 0.002, 0.003),
    (1.20, 1.25, 2.9, 0.011, 0.001, 0.001),
    (1.25, 1.30, 2.9, 0.009, 0.002, 0.003),
]

gev3p05 = [
    (0.20, 0.25, 3.05, 0.268, 0.006, 0.041),
    (0.25, 0.30, 3.05, 0.317, 0.006, 0.032),
    (0.30, 0.35, 3.05, 0.359, 0.006, 0.033),
    (0.35, 0.40, 3.05, 0.359, 0.006, 0.032),
    (0.40, 0.45, 3.05, 0.351, 0.006, 0.037),
    (0.45, 0.50, 3.05, 0.325, 0.006, 0.042),
    (0.50, 0.55, 3.05, 0.305, 0.005, 0.034),
    (0.55, 0.60, 3.05, 0.285, 0.005, 0.036),
    (0.60, 0.65, 3.05, 0.257, 0.005, 0.033),
    (0.65, 0.70, 3.05, 0.228, 0.005, 0.032),
    (0.70, 0.75, 3.05, 0.202, 0.005, 0.024),
    (0.75, 0.80, 3.05, 0.181, 0.005, 0.024),
    (0.80, 0.85, 3.05, 0.155, 0.005, 0.020),
    (0.85, 0.90, 3.05, 0.132, 0.004, 0.021),
    (0.90, 0.95, 3.05, 0.119, 0.005, 0.013),
    (0.95, 1.00, 3.05, 0.093, 0.004, 0.014),
    (1.00, 1.05, 3.05, 0.080, 0.004, 0.011),
    (1.05, 1.10, 3.05, 0.066, 0.004, 0.008),
    (1.10, 1.15, 3.05, 0.088, 0.005, 0.007),
    (1.15, 1.20, 3.05, 0.076, 0.005, 0.010),
    (1.20, 1.25, 3.05, 0.047, 0.004, 0.012),
]

gev3p5 = [
    (0.20, 0.25, 3.5, 0.262, 0.013, 0.068),
    (0.25, 0.30, 3.5, 0.311, 0.014, 0.066),
    (0.30, 0.35, 3.5, 0.368, 0.014, 0.080),
    (0.35, 0.40, 3.5, 0.355, 0.013, 0.075),
    (0.40, 0.45, 3.5, 0.358, 0.013, 0.064),
    (0.45, 0.50, 3.5, 0.357, 0.013, 0.055),
    (0.50, 0.55, 3.5, 0.354, 0.013, 0.049),
    (0.55, 0.60, 3.5, 0.312, 0.012, 0.033),
    (0.60, 0.65, 3.5, 0.284, 0.012, 0.027),
    (0.65, 0.70, 3.5, 0.274, 0.012, 0.023),
    (0.70, 0.75, 3.5, 0.241, 0.011, 0.013),
    (0.75, 0.80, 3.5, 0.225, 0.011, 0.010),
    (0.80, 0.85, 3.5, 0.189, 0.010, 0.005),
    (0.85, 0.90, 3.5, 0.172, 0.010, 0.004),
    (0.90, 0.95, 3.5, 0.136, 0.010, 0.004),
    (0.95, 1.00, 3.5, 0.104, 0.009, 0.006),
    (1.00, 1.05, 3.5, 0.123, 0.010, 0.006),
    (1.05, 1.10, 3.5, 0.097, 0.010, 0.006),
    (1.10, 1.15, 3.5, 0.095, 0.010, 0.006),
    (1.15, 1.20, 3.5, 0.078, 0.010, 0.008),
    (1.20, 1.25, 3.5, 0.070, 0.009, 0.008),
]

gev3p671 = [
    (0.20, 0.25, 3.671, 0.256, 0.012, 0.055),
    (0.25, 0.30, 3.671, 0.320, 0.013, 0.052),
    (0.30, 0.35, 3.671, 0.378, 0.013, 0.059),
    (0.35, 0.40, 3.671, 0.378, 0.013, 0.056),
    (0.40, 0.45, 3.671, 0.344, 0.012, 0.048),
    (0.45, 0.50, 3.671, 0.355, 0.012, 0.043),
    (0.50, 0.55, 3.671, 0.338, 0.012, 0.030),
    (0.55, 0.60, 3.671, 0.322, 0.012, 0.024),
    (0.60, 0.65, 3.671, 0.280, 0.011, 0.013),
    (0.65, 0.70, 3.671, 0.267, 0.011, 0.009),
    (0.70, 0.75, 3.671, 0.228, 0.010, 0.004),
    (0.75, 0.80, 3.671, 0.211, 0.010, 0.003),
    (0.80, 0.85, 3.671, 0.178, 0.010, 0.010),
    (0.85, 0.90, 3.671, 0.171, 0.010, 0.010),
    (0.90, 0.95, 3.671, 0.154, 0.010, 0.014),
    (0.95, 1.00, 3.671, 0.133, 0.010, 0.012),
    (1.00, 1.05, 3.671, 0.123, 0.010, 0.010),
    (1.05, 1.10, 3.671, 0.092, 0.009, 0.012),
    (1.10, 1.15, 3.671, 0.084, 0.009, 0.010),
    (1.15, 1.20, 3.671, 0.087, 0.009, 0.014),
    (1.20, 1.25, 3.671, 0.072, 0.009, 0.010),
    (1.25, 1.30, 3.671, 0.069, 0.008, 0.012),
    (1.30, 1.35, 3.671, 0.056, 0.008, 0.009),
]

import yaml

from nnpdf_data.filter_utils.utils import prettify_float

yaml.add_representer(float, prettify_float)


class magic:
    def __init__(self, dataset):
        self.data_central = []
        self.kin = []
        self.error = []
        for tpl in dataset:
            kin_min, kin_max, q, value, stat, sys = tpl
            kin_value = {'ph': {'min': kin_min, 'mid': None, 'max': kin_max}}
            data_central_value = value
            error_value = {'stat': stat, 'sys': sys}
            self.data_central.append(data_central_value)
            self.kin.append(kin_value)
            self.error.append(error_value)

        self.error_definition = {
            'stat': {'definition': 'statistical uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
            'sys': {'definition': 'systematic uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
        }

        self.data_central_yaml = {'data_central': self.data_central}
        self.kin_yaml = {'bins': self.kin}
        self.uncertainties_yaml = {'definitions': self.error_definition, 'bins': self.error}

    def __call__(self):
        with open('data.yaml', 'w') as f:
            yaml.dump(self.data_central_yaml, f, sort_keys=False)
        with open('kinematics.yaml', 'w') as f:
            yaml.dump(self.kin_yaml, f, sort_keys=False)
        with open('uncertainties.yaml', 'w') as f:
            yaml.dump(self.uncertainties_yaml, f, sort_keys=False)


dat_2 = magic(gev2)
dat_2p2 = magic(gev2p2)
dat_2p396 = magic(gev2p396)
dat_2p6444 = magic(gev2p6444)
dat_2p9 = magic(gev2p9)
dat_3p05 = magic(gev3p05)
dat_3p5 = magic(gev3p5)
dat_3p671 = magic(gev3p671)
