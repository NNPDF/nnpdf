gev2 = [
    (0.20, 0.25, 2.0, 0.376, 0.006, 0.031),
    (0.25, 0.30, 2.0, 0.440, 0.006, 0.024),
    (0.30, 0.35, 2.0, 0.474, 0.006, 0.024),
    (0.35, 0.40, 2.0, 0.467, 0.006, 0.032),
    (0.40, 0.45, 2.0, 0.449, 0.006, 0.024),
    (0.45, 0.50, 2.0, 0.357, 0.005, 0.018),
    (0.50, 0.55, 2.0, 0.264, 0.005, 0.018),
    (0.55, 0.60, 2.0, 0.185, 0.004, 0.013),
    (0.60, 0.65, 2.0, 0.112, 0.004, 0.013),
    (0.65, 0.70, 2.0, 0.076, 0.004, 0.008),
    (0.70, 0.75, 2.0, 0.053, 0.005, 0.009),
    (0.75, 0.80, 2.0, 0.018, 0.005, 0.004),
]

gev2p2 = [
    (0.20, 0.25, 2.2, 0.303, 0.005, 0.035),
    (0.25, 0.30, 2.2, 0.326, 0.005, 0.017),
    (0.30, 0.35, 2.2, 0.340, 0.005, 0.011),
    (0.35, 0.40, 2.2, 0.325, 0.004, 0.017),
    (0.40, 0.45, 2.2, 0.313, 0.004, 0.013),
    (0.45, 0.50, 2.2, 0.342, 0.005, 0.018),
    (0.50, 0.55, 2.2, 0.313, 0.004, 0.011),
    (0.55, 0.60, 2.2, 0.261, 0.004, 0.008),
    (0.60, 0.65, 2.2, 0.219, 0.004, 0.006),
    (0.65, 0.70, 2.2, 0.138, 0.004, 0.005),
    (0.70, 0.75, 2.2, 0.086, 0.003, 0.005),
    (0.75, 0.80, 2.2, 0.049, 0.003, 0.003),
    (0.80, 0.85, 2.2, 0.032, 0.004, 0.006),
    (0.85, 0.90, 2.2, 0.016, 0.004, 0.004),
]

gev2p396 = [
    (0.20, 0.25, 2.396, 0.295, 0.002, 0.036),
    (0.25, 0.30, 2.396, 0.321, 0.002, 0.018),
    (0.30, 0.35, 2.396, 0.344, 0.002, 0.011),
    (0.35, 0.40, 2.396, 0.339, 0.002, 0.008),
    (0.40, 0.45, 2.396, 0.316, 0.002, 0.007),
    (0.45, 0.50, 2.396, 0.281, 0.002, 0.015),
    (0.50, 0.55, 2.396, 0.254, 0.002, 0.011),
    (0.55, 0.60, 2.396, 0.231, 0.002, 0.014),
    (0.60, 0.65, 2.396, 0.244, 0.002, 0.007),
    (0.65, 0.70, 2.396, 0.244, 0.002, 0.004),
    (0.70, 0.75, 2.396, 0.204, 0.002, 0.010),
    (0.75, 0.80, 2.396, 0.168, 0.002, 0.003),
    (0.80, 0.85, 2.396, 0.091, 0.002, 0.005),
    (0.85, 0.90, 2.396, 0.051, 0.002, 0.002),
    (0.90, 0.95, 2.396, 0.023, 0.002, 0.002),
    (0.95, 1.00, 2.396, 0.019, 0.002, 0.003),
    (1.00, 1.05, 2.396, 0.003, 0.002, 0.001),
]

gev2p6444 = [
    (0.20, 0.25, 2.6444, 0.287, 0.004, 0.037),
    (0.25, 0.30, 2.6444, 0.334, 0.004, 0.022),
    (0.30, 0.35, 2.6444, 0.346, 0.004, 0.011),
    (0.35, 0.40, 2.6444, 0.356, 0.003, 0.013),
    (0.40, 0.45, 2.6444, 0.348, 0.003, 0.016),
    (0.45, 0.50, 2.6444, 0.326, 0.003, 0.023),
    (0.50, 0.55, 2.6444, 0.303, 0.003, 0.024),
    (0.55, 0.60, 2.6444, 0.267, 0.003, 0.024),
    (0.60, 0.65, 2.6444, 0.224, 0.003, 0.024),
    (0.65, 0.70, 2.6444, 0.191, 0.003, 0.017),
    (0.70, 0.75, 2.6444, 0.165, 0.003, 0.014),
    (0.75, 0.80, 2.6444, 0.144, 0.003, 0.016),
    (0.80, 0.85, 2.6444, 0.150, 0.003, 0.010),
    (0.85, 0.90, 2.6444, 0.145, 0.003, 0.007),
    (0.90, 0.95, 2.6444, 0.129, 0.003, 0.004),
    (0.95, 1.00, 2.6444, 0.082, 0.003, 0.004),
    (1.00, 1.05, 2.6444, 0.034, 0.002, 0.003),
    (1.05, 1.10, 2.6444, 0.013, 0.002, 0.002),
]

gev2p9 = [
    (0.20, 0.25, 2.9, 0.270, 0.002, 0.038),
    (0.25, 0.30, 2.9, 0.311, 0.002, 0.019),
    (0.30, 0.35, 2.9, 0.336, 0.002, 0.012),
    (0.35, 0.40, 2.9, 0.346, 0.002, 0.015),
    (0.40, 0.45, 2.9, 0.335, 0.002, 0.025),
    (0.45, 0.50, 2.9, 0.321, 0.002, 0.033),
    (0.50, 0.55, 2.9, 0.304, 0.002, 0.032),
    (0.55, 0.60, 2.9, 0.283, 0.002, 0.026),
    (0.60, 0.65, 2.9, 0.254, 0.002, 0.024),
    (0.65, 0.70, 2.9, 0.228, 0.002, 0.018),
    (0.70, 0.75, 2.9, 0.200, 0.002, 0.019),
    (0.75, 0.80, 2.9, 0.165, 0.002, 0.014),
    (0.80, 0.85, 2.9, 0.137, 0.002, 0.011),
    (0.85, 0.90, 2.9, 0.116, 0.002, 0.008),
    (0.90, 0.95, 2.9, 0.093, 0.002, 0.008),
    (0.95, 1.00, 2.9, 0.087, 0.001, 0.006),
    (1.00, 1.05, 2.9, 0.096, 0.002, 0.005),
    (1.05, 1.10, 2.9, 0.087, 0.002, 0.004),
    (1.10, 1.15, 2.9, 0.068, 0.002, 0.002),
    (1.15, 1.20, 2.9, 0.034, 0.002, 0.002),
    (1.20, 1.25, 2.9, 0.013, 0.001, 0.002),
    (1.25, 1.30, 2.9, 0.011, 0.002, 0.002),
]

gev3p05 = [
    (0.20, 0.25, 3.05, 0.256, 0.006, 0.035),
    (0.25, 0.30, 3.05, 0.318, 0.006, 0.035),
    (0.30, 0.35, 3.05, 0.342, 0.006, 0.037),
    (0.35, 0.40, 3.05, 0.352, 0.006, 0.033),
    (0.40, 0.45, 3.05, 0.349, 0.006, 0.038),
    (0.45, 0.50, 3.05, 0.326, 0.006, 0.040),
    (0.50, 0.55, 3.05, 0.311, 0.005, 0.034),
    (0.55, 0.60, 3.05, 0.288, 0.005, 0.046),
    (0.60, 0.65, 3.05, 0.258, 0.005, 0.033),
    (0.65, 0.70, 3.05, 0.234, 0.005, 0.031),
    (0.70, 0.75, 3.05, 0.197, 0.005, 0.024),
    (0.75, 0.80, 3.05, 0.181, 0.005, 0.022),
    (0.80, 0.85, 3.05, 0.163, 0.005, 0.024),
    (0.85, 0.90, 3.05, 0.127, 0.004, 0.020),
    (0.90, 0.95, 3.05, 0.115, 0.004, 0.017),
    (0.95, 1.00, 3.05, 0.093, 0.004, 0.014),
    (1.00, 1.05, 3.05, 0.080, 0.004, 0.010),
    (1.05, 1.10, 3.05, 0.073, 0.004, 0.010),
    (1.10, 1.15, 3.05, 0.082, 0.004, 0.009),
    (1.15, 1.20, 3.05, 0.070, 0.005, 0.008),
    (1.20, 1.25, 3.05, 0.054, 0.004, 0.007),
]

gev3p5 = [
    (0.20, 0.25, 3.5, 0.259, 0.013, 0.064),
    (0.25, 0.30, 3.5, 0.307, 0.013, 0.069),
    (0.30, 0.35, 3.5, 0.365, 0.014, 0.079),
    (0.35, 0.40, 3.5, 0.378, 0.014, 0.077),
    (0.40, 0.45, 3.5, 0.377, 0.013, 0.071),
    (0.45, 0.50, 3.5, 0.354, 0.013, 0.056),
    (0.50, 0.55, 3.5, 0.347, 0.013, 0.047),
    (0.55, 0.60, 3.5, 0.301, 0.012, 0.040),
    (0.60, 0.65, 3.5, 0.284, 0.012, 0.027),
    (0.65, 0.70, 3.5, 0.276, 0.012, 0.021),
    (0.70, 0.75, 3.5, 0.242, 0.011, 0.011),
    (0.75, 0.80, 3.5, 0.223, 0.011, 0.005),
    (0.80, 0.85, 3.5, 0.181, 0.010, 0.004),
    (0.85, 0.90, 3.5, 0.163, 0.010, 0.005),
    (0.90, 0.95, 3.5, 0.139, 0.010, 0.008),
    (0.95, 1.00, 3.5, 0.118, 0.010, 0.005),
    (1.00, 1.05, 3.5, 0.112, 0.010, 0.007),
    (1.05, 1.10, 3.5, 0.093, 0.010, 0.008),
    (1.10, 1.15, 3.5, 0.089, 0.010, 0.011),
    (1.15, 1.20, 3.5, 0.066, 0.009, 0.007),
    (1.20, 1.25, 3.5, 0.083, 0.009, 0.009),
]

gev3p671 = [
    (0.20, 0.25, 3.671, 0.222, 0.011, 0.050),
    (0.25, 0.30, 3.671, 0.270, 0.012, 0.048),
    (0.30, 0.35, 3.671, 0.336, 0.012, 0.057),
    (0.35, 0.40, 3.671, 0.350, 0.012, 0.052),
    (0.40, 0.45, 3.671, 0.375, 0.013, 0.053),
    (0.45, 0.50, 3.671, 0.361, 0.012, 0.040),
    (0.50, 0.55, 3.671, 0.323, 0.012, 0.030),
    (0.55, 0.60, 3.671, 0.307, 0.011, 0.023),
    (0.60, 0.65, 3.671, 0.297, 0.011, 0.016),
    (0.65, 0.70, 3.671, 0.274, 0.011, 0.006),
    (0.70, 0.75, 3.671, 0.264, 0.011, 0.005),
    (0.75, 0.80, 3.671, 0.202, 0.010, 0.006),
    (0.80, 0.85, 3.671, 0.199, 0.010, 0.009),
    (0.85, 0.90, 3.671, 0.168, 0.010, 0.011),
    (0.90, 0.95, 3.671, 0.153, 0.010, 0.011),
    (0.95, 1.00, 3.671, 0.144, 0.010, 0.009),
    (1.00, 1.05, 3.671, 0.121, 0.009, 0.013),
    (1.05, 1.10, 3.671, 0.111, 0.009, 0.014),
    (1.10, 1.15, 3.671, 0.107, 0.010, 0.018),
    (1.15, 1.20, 3.671, 0.090, 0.009, 0.012),
    (1.20, 1.25, 3.671, 0.078, 0.008, 0.012),
    (1.25, 1.30, 3.671, 0.065, 0.008, 0.009),
    (1.30, 1.35, 3.671, 0.051, 0.007, 0.009),
]

import yaml

from nnpdf_data.filter_utils.utils import prettify_float

yaml.add_representer(float, prettify_float)


class magic:
    def __init__(self, dataset):
        self.data_central = []
        self.kin = []
        self.error = []
        for tpl in dataset:
            kin_min, kin_max, q, value, stat, sys = tpl
            kin_value = {'ph': {'min': kin_min, 'mid': None, 'max': kin_max}}
            data_central_value = value
            error_value = {'stat': stat, 'sys': sys}
            self.data_central.append(data_central_value)
            self.kin.append(kin_value)
            self.error.append(error_value)

        self.error_definition = {
            'stat': {'definition': 'statistical uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
            'sys': {'definition': 'systematic uncertainty', 'treatment': 'ADD', 'type': 'UNCORR'},
        }

        self.data_central_yaml = {'data_central': self.data_central}
        self.kin_yaml = {'bins': self.kin}
        self.uncertainties_yaml = {'definitions': self.error_definition, 'bins': self.error}

    def __call__(self):
        with open('data.yaml', 'w') as f:
            yaml.dump(self.data_central_yaml, f, sort_keys=False)
        with open('kinematics.yaml', 'w') as f:
            yaml.dump(self.kin_yaml, f, sort_keys=False)
        with open('uncertainties.yaml', 'w') as f:
            yaml.dump(self.uncertainties_yaml, f, sort_keys=False)


dat_2 = magic(gev2)
dat_2p2 = magic(gev2p2)
dat_2p396 = magic(gev2p396)
dat_2p6444 = magic(gev2p6444)
dat_2p9 = magic(gev2p9)
dat_3p05 = magic(gev3p05)
dat_3p5 = magic(gev3p5)
dat_3p671 = magic(gev3p671)
